<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Struct: aws.CredentialsCache
  
    &mdash; IBM COS SDK for Go
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" />

  <link rel="stylesheet" href="../css/highlight.github.css" type="text/css" />

<script type="text/javascript">
  pathId = "aws.CredentialsCache";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../package_list.html"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (C)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../aws.html" title="aws (package)">aws</a></span></span>
     &raquo; 
    <span class="title">CredentialsCache</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="package_list_link"
        href="../package_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <iframe id="search_frame"></iframe>

      <div id="content">
        <!--REGION_DISCLAIMER_DO_NOT_REMOVE-->
        <h1>Struct: aws.CredentialsCache
  
  
  
</h1>
<div class="package signature">
import "../ibm-cos-sdk-go-v2/aws"
</div>
<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>CredentialsCache provides caching and concurrency safe credentials retrieval via the provider’s retrieve method.</p>

<p>CredentialsCache will look for optional interfaces on the Provider to adjust how the credential cache handles credentials caching.</p>
<ul><li>
<p>HandleFailRefreshCredentialsCacheStrategy - Allows provider to handle credential refresh failures. This could return an updated Credentials value, or attempt another means of retrieving credentials.</p>
</li><li>
<p>AdjustExpiresByCredentialsCacheStrategy - Allows provider to adjust how credentials Expires is modified. This could modify how the Credentials Expires is adjusted based on the CredentialsCache ExpiryWindow option. Such as providing a floor not to reduce the Expires below.</p>
</li></ul>


  </div>
</div>
<div class="tags">
  

</div>

  <h3 class="inherited">Implemented Interfaces</h3>
  <p class="inherited"><span class='object_link'><a href="../service/s3/types/AnalyticsFilter.html" title="types.AnalyticsFilter (interface)">types.AnalyticsFilter</a></span>, <span class='object_link'><a href="CredentialProviderSource.html" title="aws.CredentialProviderSource (interface)">CredentialProviderSource</a></span>, <span class='object_link'><a href="CredentialsProvider.html" title="aws.CredentialsProvider (interface)">CredentialsProvider</a></span>, <span class='object_link'><a href="signer/v4/HTTPPresigner.html" title="v4.HTTPPresigner (interface)">v4.HTTPPresigner</a></span>, <span class='object_link'><a href="../service/s3/HTTPPresignerV4.html" title="s3.HTTPPresignerV4 (interface)">s3.HTTPPresignerV4</a></span>, <span class='object_link'><a href="../service/s3/types/MetricsFilter.html" title="types.MetricsFilter (interface)">types.MetricsFilter</a></span>, <span class='object_link'><a href="../service/s3/PresignPost.html" title="s3.PresignPost (interface)">s3.PresignPost</a></span>, <span class='object_link'><a href="../service/s3/internal/customizations/S3ExpressCredentialsProvider.html" title="customizations.S3ExpressCredentialsProvider (interface)">customizations.S3ExpressCredentialsProvider</a></span>, <span class='object_link'><a href="../service/internal/s3shared/arn/S3ObjectLambdaARN.html" title="arn.S3ObjectLambdaARN (interface)">arn.S3ObjectLambdaARN</a></span>, <span class='object_link'><a href="../service/s3/types/SelectObjectContentEventStream.html" title="types.SelectObjectContentEventStream (interface)">types.SelectObjectContentEventStream</a></span></p>


  

  









  
    <h2>
      Method  Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        
<li class="public ">
  <span class="summary_signature"><span class='object_link'><a href="#Invalidate-instance_method" title="aws.CredentialsCache.Invalidate() (method)">func (p *CredentialsCache) <strong>Invalidate</strong>() </a></span></span>
  
  
  
  
  
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Invalidate will invalidate the cached credentials.</p>
</div></span>
  
</li>


      
        
<li class="public ">
  <span class="summary_signature"><span class='object_link'><a href="#IsCredentialsProvider-instance_method" title="aws.CredentialsCache.IsCredentialsProvider() (method)">func (p *CredentialsCache) <strong>IsCredentialsProvider</strong>(target CredentialsProvider) bool </a></span></span>
  
  
  
  
  
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>IsCredentialsProvider returns whether credential provider wrapped by CredentialsCache matches the target provider type.</p>
</div></span>
  
</li>


      
        
<li class="public ">
  <span class="summary_signature"><span class='object_link'><a href="#ProviderSources-instance_method" title="aws.CredentialsCache.ProviderSources() (method)">func (p *CredentialsCache) <strong>ProviderSources</strong>() []CredentialSource </a></span></span>
  
  
  
  
  
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>ProviderSources returns a list of where the underlying credential provider has been sourced, if available.</p>
</div></span>
  
</li>


      
        
<li class="public ">
  <span class="summary_signature"><span class='object_link'><a href="#Retrieve-instance_method" title="aws.CredentialsCache.Retrieve() (method)">func (p *CredentialsCache) <strong>Retrieve</strong>(ctx context.Context) (Credentials, error) </a></span></span>
  
  
  
  
  
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Retrieve returns the credentials.</p>
</div></span>
  
</li>


      
    </ul>
  





  <div id="Method_method_details" class="method_details_list">
    <h2>Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="Invalidate-instance_method">
  
    func (p *<span class='object_link'><a href="" title="aws.CredentialsCache (struct)">CredentialsCache</a></span>) <strong><span class='object_link'><a href="#Invalidate-instance_method" title="aws.CredentialsCache.Invalidate() (method)">Invalidate</a></span></strong>() 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Invalidate will invalidate the cached credentials. The next call to Retrieve will cause the provider’s Retrieve method to be called.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


187
188
189</pre>
    </td>
    <td>
      <pre class="code"><span class="info file">// File 'aws/credential_cache.go', line 187</span>

<div class="hljs"><span class="hljs-keyword">func</span> (p *CredentialsCache) Invalidate() {
	p.creds.Store((*Credentials)(<span class="hljs-constant">nil</span>))
}</div></pre>
    </td>
  </tr>
</table>

</div>
    
      <div class="method_details ">
  <h3 class="signature " id="IsCredentialsProvider-instance_method">
  
    func (p *<span class='object_link'><a href="" title="aws.CredentialsCache (struct)">CredentialsCache</a></span>) <strong><span class='object_link'><a href="#IsCredentialsProvider-instance_method" title="aws.CredentialsCache.IsCredentialsProvider() (method)">IsCredentialsProvider</a></span></strong>(target <span class='object_link'><a href="CredentialsProvider.html" title="aws.CredentialsProvider (interface)">CredentialsProvider</a></span>) bool 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>IsCredentialsProvider returns whether credential provider wrapped by CredentialsCache matches the target provider type.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


193
194
195</pre>
    </td>
    <td>
      <pre class="code"><span class="info file">// File 'aws/credential_cache.go', line 193</span>

<div class="hljs"><span class="hljs-keyword">func</span> (p *CredentialsCache) IsCredentialsProvider(target CredentialsProvider) <span class="hljs-constant">bool</span> {
	<span class="hljs-keyword">return</span> IsCredentialsProvider(p.provider, target)
}</div></pre>
    </td>
  </tr>
</table>

</div>
    
      <div class="method_details ">
  <h3 class="signature " id="ProviderSources-instance_method">
  
    func (p *<span class='object_link'><a href="" title="aws.CredentialsCache (struct)">CredentialsCache</a></span>) <strong><span class='object_link'><a href="#ProviderSources-instance_method" title="aws.CredentialsCache.ProviderSources() (method)">ProviderSources</a></span></strong>() []CredentialSource 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>ProviderSources returns a list of where the underlying credential provider has been sourced, if available. Returns empty if the provider doesn’t implement the interface</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


177
178
179
180
181
182
183</pre>
    </td>
    <td>
      <pre class="code"><span class="info file">// File 'aws/credential_cache.go', line 177</span>

<div class="hljs"><span class="hljs-keyword">func</span> (p *CredentialsCache) ProviderSources() []CredentialSource {
	asSource, ok := p.provider.(CredentialProviderSource)
	<span class="hljs-keyword">if</span> !ok {
		<span class="hljs-keyword">return</span> []CredentialSource{}
	}
	<span class="hljs-keyword">return</span> asSource.ProviderSources()
}</div></pre>
    </td>
  </tr>
</table>

</div>
    
      <div class="method_details ">
  <h3 class="signature " id="Retrieve-instance_method">
  
    func (p *<span class='object_link'><a href="" title="aws.CredentialsCache (struct)">CredentialsCache</a></span>) <strong><span class='object_link'><a href="#Retrieve-instance_method" title="aws.CredentialsCache.Retrieve() (method)">Retrieve</a></span></strong>(ctx context.Context) (<span class='object_link'><a href="Credentials.html" title="aws.Credentials (struct)">Credentials</a></span>, error) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Retrieve returns the credentials. If the credentials have already been retrieved, and not expired the cached credentials will be returned. If the credentials have not been retrieved yet, or expired the provider’s Retrieve method will be called.</p>

<p>Returns and error if the provider’s retrieve method returns an error.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


97
98
99
100
101
102
103
104
105
106
107
108
109
110
111</pre>
    </td>
    <td>
      <pre class="code"><span class="info file">// File 'aws/credential_cache.go', line 97</span>

<div class="hljs"><span class="hljs-keyword">func</span> (p *CredentialsCache) Retrieve(ctx context.Context) (Credentials, <span class="hljs-constant">error</span>) {
	<span class="hljs-keyword">if</span> creds, ok := p.getCreds(); ok && !creds.Expired() {
		<span class="hljs-keyword">return</span> creds, <span class="hljs-constant">nil</span>
	}

	resCh := p.sf.DoChan(<span class="hljs-string">""</span>, <span class="hljs-keyword">func</span>() (<span class="hljs-keyword">interface</span>{}, <span class="hljs-constant">error</span>) {
		<span class="hljs-keyword">return</span> p.singleRetrieve(&suppressedContext{ctx})
	})
	<span class="hljs-keyword">select</span> {
	<span class="hljs-keyword">case</span> res := <-resCh:
		<span class="hljs-keyword">return</span> res.Val.(Credentials), res.Err
	<span class="hljs-keyword">case</span> <-ctx.Done():
		<span class="hljs-keyword">return</span> Credentials{}, &RequestCanceledError{Err: ctx.Err()}
	}
}</div></pre>
    </td>
  </tr>
</table>

</div>
    
  </div>


      </div>

      <div id="footer">
  Generated on Mon Jan 12 07:20:50 2026 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.38 (ruby-3.1.2).
</div>

<!-- BEGIN-SECTION -->
<script type="text/javascript" src="https://media.amazonwebservices.com/amznUrchin.js"></script>
<!-- SiteCatalyst code version: H.25.2. Copyright 1996-2012 Adobe, Inc. All Rights Reserved.
More info available at http://www.omniture.com -->
<script language="JavaScript" type="text/javascript" src="https://media.amazonwebservices.com/js/sitecatalyst/s_code.min.js">
</script>
<script language="JavaScript" type="text/javascript">
  <!--
  s.prop66='AWS SDK for Go';
  s.eVar66='D=c66';
  s.prop65='API Reference';
  s.eVar65='D=c65';
  var s_code=s.t();if(s_code)document.write(s_code)
  //-->
</script>
<script language="JavaScript" type="text/javascript">
  <!--if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
  //-->
</script>
<noscript>
  <img src="http://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="">
</noscript>
<!--/DO NOT REMOVE/-->
<!-- End SiteCatalyst code version: H.25.2. -->
<!-- END-SECTION -->

    </div>
  </body>
</html>
