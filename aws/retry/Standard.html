<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Struct: retry.Standard
  
    &mdash; IBM COS SDK for Go
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" />

  <link rel="stylesheet" href="../../css/highlight.github.css" type="text/css" />

<script type="text/javascript">
  pathId = "aws/retry.Standard";
  relpath = '../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../package_list.html"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../_index.html">Index (S)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../aws.html" title="aws (package)">aws</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../retry.html" title="retry (package)">retry</a></span></span>
     &raquo; 
    <span class="title">Standard</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="package_list_link"
        href="../../package_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <iframe id="search_frame"></iframe>

      <div id="content">
        <!--REGION_DISCLAIMER_DO_NOT_REMOVE-->
        <h1>Struct: retry.Standard
  
  
  
</h1>
<div class="package signature">
import "../ibm-cos-sdk-go-v2/aws/retry"
</div>
<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Standard is the standard retry pattern for the SDK. It uses a set of retryable checks to determine of the failed attempt should be retried, and what retry delay should be used.</p>


  </div>
</div>
<div class="tags">
  

</div>

  <h3 class="inherited">Implemented Interfaces</h3>
  <p class="inherited"><span class='object_link'><a href="../../service/s3/types/AnalyticsFilter.html" title="types.AnalyticsFilter (interface)">types.AnalyticsFilter</a></span>, <span class='object_link'><a href="../signer/v4/HTTPPresigner.html" title="v4.HTTPPresigner (interface)">v4.HTTPPresigner</a></span>, <span class='object_link'><a href="../../service/s3/HTTPPresignerV4.html" title="s3.HTTPPresignerV4 (interface)">s3.HTTPPresignerV4</a></span>, <span class='object_link'><a href="IsErrorRetryable.html" title="retry.IsErrorRetryable (interface)">retry.IsErrorRetryable</a></span>, <span class='object_link'><a href="../../service/s3/types/MetricsFilter.html" title="types.MetricsFilter (interface)">types.MetricsFilter</a></span>, <span class='object_link'><a href="../../service/s3/PresignPost.html" title="s3.PresignPost (interface)">s3.PresignPost</a></span>, <span class='object_link'><a href="../RetryerV2.html" title="aws.RetryerV2 (interface)">aws.RetryerV2</a></span>, <span class='object_link'><a href="../../service/internal/s3shared/arn/S3ObjectLambdaARN.html" title="arn.S3ObjectLambdaARN (interface)">arn.S3ObjectLambdaARN</a></span>, <span class='object_link'><a href="../../service/s3/types/SelectObjectContentEventStream.html" title="types.SelectObjectContentEventStream (interface)">types.SelectObjectContentEventStream</a></span></p>


  

  









  
    <h2>
      Method  Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        
<li class="public ">
  <span class="summary_signature"><span class='object_link'><a href="#GetAttemptToken-instance_method" title="retry.Standard.GetAttemptToken() (method)">func (s *Standard) <strong>GetAttemptToken</strong>(context.Context) (func(error) error, error) </a></span></span>
  
  
  
  
  
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>GetAttemptToken returns the token to be released after then attempt completes.</p>
</div></span>
  
</li>


      
        
<li class="public ">
  <span class="summary_signature"><span class='object_link'><a href="#GetInitialToken-instance_method" title="retry.Standard.GetInitialToken() (method)">func (s *Standard) <strong>GetInitialToken</strong>() func(error) error </a></span></span>
  
  
  
  
  
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>GetInitialToken returns a token for adding the NoRetryIncrement to the RateLimiter token if the attempt completed successfully without error.</p>
</div></span>
  
</li>


      
        
<li class="public ">
  <span class="summary_signature"><span class='object_link'><a href="#GetRetryToken-instance_method" title="retry.Standard.GetRetryToken() (method)">func (s *Standard) <strong>GetRetryToken</strong>(ctx context.Context, opErr error) (func(error) error, error) </a></span></span>
  
  
  
  
  
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>GetRetryToken attempts to deduct the retry cost from the retry token pool.</p>
</div></span>
  
</li>


      
        
<li class="public ">
  <span class="summary_signature"><span class='object_link'><a href="#IsErrorRetryable-instance_method" title="retry.Standard.IsErrorRetryable() (method)">func (s *Standard) <strong>IsErrorRetryable</strong>(err error) bool </a></span></span>
  
  
  
  
  
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>IsErrorRetryable returns if the error is can be retried or not.</p>
</div></span>
  
</li>


      
        
<li class="public ">
  <span class="summary_signature"><span class='object_link'><a href="#MaxAttempts-instance_method" title="retry.Standard.MaxAttempts() (method)">func (s *Standard) <strong>MaxAttempts</strong>() int </a></span></span>
  
  
  
  
  
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>MaxAttempts returns the maximum number of attempts that can be made for a request before failing.</p>
</div></span>
  
</li>


      
        
<li class="public ">
  <span class="summary_signature"><span class='object_link'><a href="#RetryDelay-instance_method" title="retry.Standard.RetryDelay() (method)">func (s *Standard) <strong>RetryDelay</strong>(attempt int, err error) (time.Duration, error) </a></span></span>
  
  
  
  
  
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>RetryDelay returns the delay to use before another request attempt is made.</p>
</div></span>
  
</li>


      
    </ul>
  





  <div id="Method_method_details" class="method_details_list">
    <h2>Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="GetAttemptToken-instance_method">
  
    func (s *<span class='object_link'><a href="" title="retry.Standard (struct)">Standard</a></span>) <strong><span class='object_link'><a href="#GetAttemptToken-instance_method" title="retry.Standard.GetAttemptToken() (method)">GetAttemptToken</a></span></strong>(context.Context) (func(error) error, error) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>GetAttemptToken returns the token to be released after then attempt completes. The release token will add NoRetryIncrement to the RateLimiter token pool if the attempt was successful. If the attempt failed, nothing will be done.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


222
223
224</pre>
    </td>
    <td>
      <pre class="code"><span class="info file">// File 'aws/retry/standard.go', line 222</span>

<div class="hljs"><span class="hljs-keyword">func</span> (s *Standard) GetAttemptToken(context.Context) (<span class="hljs-keyword">func</span>(<span class="hljs-constant">error</span>) <span class="hljs-constant">error</span>, <span class="hljs-constant">error</span>) {
	<span class="hljs-keyword">return</span> s.GetInitialToken(), <span class="hljs-constant">nil</span>
}</div></pre>
    </td>
  </tr>
</table>

</div>
    
      <div class="method_details ">
  <h3 class="signature " id="GetInitialToken-instance_method">
  
    func (s *<span class='object_link'><a href="" title="retry.Standard (struct)">Standard</a></span>) <strong><span class='object_link'><a href="#GetInitialToken-instance_method" title="retry.Standard.GetInitialToken() (method)">GetInitialToken</a></span></strong>() func(error) error 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>GetInitialToken returns a token for adding the NoRetryIncrement to the RateLimiter token if the attempt completed successfully without error.</p>

<p>InitialToken applies to result of the each attempt, including the first. Whereas the RetryToken applies to the result of subsequent attempts.</p>

<p>Deprecated: use GetAttemptToken instead.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


233
234
235</pre>
    </td>
    <td>
      <pre class="code"><span class="info file">// File 'aws/retry/standard.go', line 233</span>

<div class="hljs"><span class="hljs-keyword">func</span> (s *Standard) GetInitialToken() <span class="hljs-keyword">func</span>(<span class="hljs-constant">error</span>) <span class="hljs-constant">error</span> {
	<span class="hljs-keyword">return</span> releaseToken(s.noRetryIncrement).release
}</div></pre>
    </td>
  </tr>
</table>

</div>
    
      <div class="method_details ">
  <h3 class="signature " id="GetRetryToken-instance_method">
  
    func (s *<span class='object_link'><a href="" title="retry.Standard (struct)">Standard</a></span>) <strong><span class='object_link'><a href="#GetRetryToken-instance_method" title="retry.Standard.GetRetryToken() (method)">GetRetryToken</a></span></strong>(ctx context.Context, opErr error) (func(error) error, error) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>GetRetryToken attempts to deduct the retry cost from the retry token pool. Returning the token release function, or error.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


243
244
245
246
247
248
249
250
251
252
253
254
255
256</pre>
    </td>
    <td>
      <pre class="code"><span class="info file">// File 'aws/retry/standard.go', line 243</span>

<div class="hljs"><span class="hljs-keyword">func</span> (s *Standard) GetRetryToken(ctx context.Context, opErr <span class="hljs-constant">error</span>) (<span class="hljs-keyword">func</span>(<span class="hljs-constant">error</span>) <span class="hljs-constant">error</span>, <span class="hljs-constant">error</span>) {
	cost := s.options.RetryCost

	<span class="hljs-keyword">if</span> s.timeout.IsErrorTimeout(opErr).Bool() {
		cost = s.options.RetryTimeoutCost
	}

	fn, err := s.options.RateLimiter.GetToken(ctx, cost)
	<span class="hljs-keyword">if</span> err != <span class="hljs-constant">nil</span> {
		<span class="hljs-keyword">return</span> <span class="hljs-constant">nil</span>, fmt.Errorf(<span class="hljs-string">"failed to get rate limit token, %w"</span>, err)
	}

	<span class="hljs-keyword">return</span> releaseToken(fn).release, <span class="hljs-constant">nil</span>
}</div></pre>
    </td>
  </tr>
</table>

</div>
    
      <div class="method_details ">
  <h3 class="signature " id="IsErrorRetryable-instance_method">
  
    func (s *<span class='object_link'><a href="" title="retry.Standard (struct)">Standard</a></span>) <strong><span class='object_link'><a href="#IsErrorRetryable-instance_method" title="retry.Standard.IsErrorRetryable() (method)">IsErrorRetryable</a></span></strong>(err error) bool 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>IsErrorRetryable returns if the error is can be retried or not. Should not consider the number of attempts made.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


210
211
212</pre>
    </td>
    <td>
      <pre class="code"><span class="info file">// File 'aws/retry/standard.go', line 210</span>

<div class="hljs"><span class="hljs-keyword">func</span> (s *Standard) IsErrorRetryable(err <span class="hljs-constant">error</span>) <span class="hljs-constant">bool</span> {
	<span class="hljs-keyword">return</span> s.retryable.IsErrorRetryable(err).Bool()
}</div></pre>
    </td>
  </tr>
</table>

</div>
    
      <div class="method_details ">
  <h3 class="signature " id="MaxAttempts-instance_method">
  
    func (s *<span class='object_link'><a href="" title="retry.Standard (struct)">Standard</a></span>) <strong><span class='object_link'><a href="#MaxAttempts-instance_method" title="retry.Standard.MaxAttempts() (method)">MaxAttempts</a></span></strong>() int 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>MaxAttempts returns the maximum number of attempts that can be made for a request before failing.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


204
205
206</pre>
    </td>
    <td>
      <pre class="code"><span class="info file">// File 'aws/retry/standard.go', line 204</span>

<div class="hljs"><span class="hljs-keyword">func</span> (s *Standard) MaxAttempts() <span class="hljs-constant">int</span> {
	<span class="hljs-keyword">return</span> s.options.MaxAttempts
}</div></pre>
    </td>
  </tr>
</table>

</div>
    
      <div class="method_details ">
  <h3 class="signature " id="RetryDelay-instance_method">
  
    func (s *<span class='object_link'><a href="" title="retry.Standard (struct)">Standard</a></span>) <strong><span class='object_link'><a href="#RetryDelay-instance_method" title="retry.Standard.RetryDelay() (method)">RetryDelay</a></span></strong>(attempt int, err error) (time.Duration, error) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>RetryDelay returns the delay to use before another request attempt is made.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


215
216
217</pre>
    </td>
    <td>
      <pre class="code"><span class="info file">// File 'aws/retry/standard.go', line 215</span>

<div class="hljs"><span class="hljs-keyword">func</span> (s *Standard) RetryDelay(attempt <span class="hljs-constant">int</span>, err <span class="hljs-constant">error</span>) (time.Duration, <span class="hljs-constant">error</span>) {
	<span class="hljs-keyword">return</span> s.backoff.BackoffDelay(attempt, err)
}</div></pre>
    </td>
  </tr>
</table>

</div>
    
  </div>


      </div>

      <div id="footer">
  Generated on Mon Jan 12 07:20:50 2026 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.38 (ruby-3.1.2).
</div>

<!-- BEGIN-SECTION -->
<script type="text/javascript" src="https://media.amazonwebservices.com/amznUrchin.js"></script>
<!-- SiteCatalyst code version: H.25.2. Copyright 1996-2012 Adobe, Inc. All Rights Reserved.
More info available at http://www.omniture.com -->
<script language="JavaScript" type="text/javascript" src="https://media.amazonwebservices.com/js/sitecatalyst/s_code.min.js">
</script>
<script language="JavaScript" type="text/javascript">
  <!--
  s.prop66='AWS SDK for Go';
  s.eVar66='D=c66';
  s.prop65='API Reference';
  s.eVar65='D=c65';
  var s_code=s.t();if(s_code)document.write(s_code)
  //-->
</script>
<script language="JavaScript" type="text/javascript">
  <!--if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
  //-->
</script>
<noscript>
  <img src="http://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="">
</noscript>
<!--/DO NOT REMOVE/-->
<!-- End SiteCatalyst code version: H.25.2. -->
<!-- END-SECTION -->

    </div>
  </body>
</html>
